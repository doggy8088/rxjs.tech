"use strict";(self.webpackChunkrxjs_dev=self.webpackChunkrxjs_dev||[]).push([[608],{6608:function(t,n,e){e.r(n),e.d(n,{OperatorDecisionTreeModule:function(){return U}});var o=e(54364),i=e(70781),r=e(42118),s=e(24298),c=e(29026),a=e(2316),p=e(53882);let u=(()=>{class t{constructor(t){this.http=t}getDecisionTree$(){return this.http.get("/generated/docs/app/decision-tree-data.json")}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(p.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();var h=e(97175),l=e(69606),d=e(47599),g=e(57850),f=e(34864),m=e(41757),x=e(76477),b=e(49005),v=e(43497);function Z(t){return!t.error}let T=(()=>{class t{constructor(t){this.dataService=t,this.initialState={previousBranchIds:["initial"],currentBranchId:"initial"},this.state$=new l.X(this.initialState),this.tree$=this.dataService.getDecisionTree$().pipe((0,f.K)(t=>(0,d.of)(t)),(0,m.d)()),this.currentSentence$=(0,g.a)(this.tree$,this.state$).pipe((0,x.h)(([t])=>Z(t)),(0,b.U)(([t,{previousBranchIds:n}])=>function(t){return t.includes("initial")&&1===t.length}(n)?"\u4ece\u4e0b\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff0c\u4ee5\u5f00\u59cb\u51b3\u7b56":`${n.map(n=>t[n].label).join(" ")}...`.trim())),this.options$=(0,g.a)(this.tree$,this.state$).pipe((0,x.h)(([t,n])=>Z(t)&&!!t[n.currentBranchId]&&!!t[n.currentBranchId].options),(0,b.U)(([t,n])=>{const e=t[n.currentBranchId];return function(t){return!!t.options}(e)?e.options.map(n=>t[n]):t.initial.options.map(n=>t[n])})),this.isBeyondInitialQuestion$=this.state$.pipe((0,b.U)(({currentBranchId:t})=>"initial"!==t)),this.hasError$=this.tree$.pipe((0,x.h)(t=>!!t.error),(0,v.h)(!0))}get snapShot(){return this.state$.getValue()}selectOption(t){this.state$.next({previousBranchIds:[...this.snapShot.previousBranchIds,t],currentBranchId:t})}back(){const t=this.snapShot.previousBranchIds[this.snapShot.previousBranchIds.length-2];t&&this.state$.next({previousBranchIds:[...this.snapShot.previousBranchIds.slice(0,this.snapShot.previousBranchIds.length-1)],currentBranchId:t})}startOver(){this.state$.next(this.initialState)}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(u))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t{transform(t){switch(t){case"class":return"\u7c7b";case"function":return"\u51fd\u6570";default:return t}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=a.Yjl({name:"docTypeName",type:t,pure:!0}),t})();function _(t,n){if(1&t){const t=a.EpF();a.ynx(0),a.TgZ(1,"section"),a.TgZ(2,"button",6),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).back()}),a._uU(3,"\u540e\u9000 "),a.qZA(),a.TgZ(4,"button",7),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).startOver()}),a._uU(5,"\u91cd\u65b0\u5f00\u59cb "),a.qZA(),a.qZA(),a.BQk()}}function y(t,n){if(1&t){const t=a.EpF();a.ynx(0),a.TgZ(1,"button",9),a.NdJ("click",function(n){a.CHM(t);const e=a.oxw().$implicit;return a.oxw(2).selectOption(e.id,n)}),a.TgZ(2,"mat-card",10),a._uU(3),a.qZA(),a.qZA(),a.BQk()}if(2&t){const t=a.oxw().$implicit;a.xp6(1),a.Q6J("@flyIn",void 0),a.xp6(2),a.hij(" ",t.label," ")}}function I(t,n){if(1&t&&(a.TgZ(0,"p",12),a._uU(1," \u4f60\u9700\u8981 "),a.TgZ(2,"a",13),a._uU(3),a.qZA(),a._uU(4),a.ALo(5,"docTypeName"),a.qZA()),2&t){const t=a.oxw(2).$implicit;a.xp6(2),a.hYB("href","",t.path,"#",t.method,"",a.LSH),a.xp6(1),a.Oqu(t.label),a.xp6(1),a.AsE(" ",a.lcZ(5,5,t.docType)," \u4e2d\u7684 ",t.method," \u65b9\u6cd5\u3002 ")}}function O(t,n){if(1&t&&(a.TgZ(0,"p",12),a._uU(1," \u4f60\u9700\u8981 "),a.TgZ(2,"a",13),a._uU(3),a.ALo(4,"docTypeName"),a.qZA(),a._uU(5,"\u3002 "),a.qZA()),2&t){const t=a.oxw(2).$implicit;a.xp6(2),a.s9C("href",t.path,a.LSH),a.xp6(1),a.AsE("",t.label," ",a.lcZ(4,3,t.docType),"")}}function A(t,n){if(1&t&&(a.YNc(0,I,6,7,"p",11),a.YNc(1,O,6,5,"p",11)),2&t){const t=a.oxw().$implicit;a.Q6J("ngIf",t.method),a.xp6(1),a.Q6J("ngIf",!t.method)}}function B(t,n){if(1&t&&(a.ynx(0),a.YNc(1,y,4,2,"ng-container",1),a.YNc(2,A,2,2,"ng-template",null,8,a.W1O),a.BQk()),2&t){const t=n.$implicit,e=a.MAs(3);a.xp6(1),a.Q6J("ngIf",t.options)("ngIfElse",e)}}function S(t,n){if(1&t&&(a.ynx(0),a.TgZ(1,"h2",3),a._uU(2),a.ALo(3,"async"),a.qZA(),a.YNc(4,_,6,0,"ng-container",4),a.ALo(5,"async"),a.TgZ(6,"div"),a.YNc(7,B,4,2,"ng-container",5),a.ALo(8,"async"),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(2),a.hij(" ",a.lcZ(3,3,t.currentSentence$)," "),a.xp6(2),a.Q6J("ngIf",a.lcZ(5,5,t.isBeyondInitialQuestion$)),a.xp6(3),a.Q6J("ngForOf",a.lcZ(8,7,t.options$))}}function w(t,n){1&t&&(a.TgZ(0,"div",14),a.TgZ(1,"p",15),a._uU(2,"\u554a\u54e6\uff01\u52a0\u8f7d\u51b3\u7b56\u6811\u65f6\u51fa\u4e86\u70b9\u95ee\u9898\u2026\u2026\u975e\u5e38\u62b1\u6b49\u3002\u8bf7\u5c1d\u8bd5\u5237\u65b0\u672c\u9875\u9762\u3002"),a.qZA(),a.TgZ(3,"p",16),a._uU(4,"Oops! There was an issue loading the decision tree.. we're real sorry about that. Please try reloading the page."),a.qZA(),a.TgZ(5,"p",15),a._uU(6,"\u4f60\u8fd8\u53ef\u4ee5\u8bd5\u8bd5"),a.TgZ(7,"a",17),a._uU(8,"\u5728 Github \u63d0\u4ea4\u4e00\u4e2a Issue"),a.qZA(),a._uU(9,"\u3002"),a.qZA(),a.TgZ(10,"p",16),a._uU(11,"You can also try "),a.TgZ(12,"a",17),a._uU(13,"submitting an issue on Github"),a.qZA(),a._uU(14,"."),a.qZA(),a.qZA())}let k=(()=>{class t{constructor(t,n){this.operatorDecisionTreeService=t,this.scrollService=n,this.currentSentence$=this.operatorDecisionTreeService.currentSentence$,this.options$=this.operatorDecisionTreeService.options$,this.isBeyondInitialQuestion$=this.operatorDecisionTreeService.isBeyondInitialQuestion$,this.hasError$=this.operatorDecisionTreeService.hasError$}selectOption(t){this.operatorDecisionTreeService.selectOption(t),this.scrollService.scrollToTop()}back(){this.operatorDecisionTreeService.back()}startOver(){this.operatorDecisionTreeService.startOver()}ngOnDestroy(){this.startOver()}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(T),a.Y36(c.a))},t.\u0275cmp=a.Xpm({type:t,selectors:[["aio-operator-decision-tree"]],decls:6,vars:4,consts:[["tabindex","0",1,"mat-heading"],[4,"ngIf","ngIfElse"],["hasErrorTemplate",""],["tabindex","0",1,"mat-subheading-2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-button","",1,"back",3,"click"],["mat-button","","color","warn",1,"start-over",3,"click"],["operatorTempalte",""],[1,"option","mat-body-1",3,"click"],["matRipple",""],["class","mat-body-1",4,"ngIf"],[1,"mat-body-1"],[3,"href"],[1,"mat-body-1","error"],["translation-result","on"],["translation-origin","off"],["href","https://github.com/ReactiveX/rxjs/issues/new?template=documentation.md","target","_blank"]],template:function(t,n){if(1&t&&(a.TgZ(0,"h1",0),a._uU(1," \u64cd\u4f5c\u7b26\u51b3\u7b56\u6811\n"),a.qZA(),a.YNc(2,S,9,9,"ng-container",1),a.ALo(3,"async"),a.YNc(4,w,15,0,"ng-template",null,2,a.W1O)),2&t){const t=a.MAs(5);a.xp6(2),a.Q6J("ngIf",!a.lcZ(3,2,n.hasError$))("ngIfElse",t)}},directives:[o.O5,o.sg,i.lW,r.a8,s.wG],pipes:[o.Ov,$],styles:["h2[_ngcontent-%COMP%]{max-width:700px}button.option[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);border-radius:34px;border:0;cursor:pointer;display:block;margin-bottom:12px;padding:0;text-align:left}button.option[_ngcontent-%COMP%]:active, button.option[_ngcontent-%COMP%]:hover, button.option[_ngcontent-%COMP%]:focus{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}button.option[_ngcontent-%COMP%]:active   mat-card[_ngcontent-%COMP%], button.option[_ngcontent-%COMP%]:hover   mat-card[_ngcontent-%COMP%], button.option[_ngcontent-%COMP%]:focus   mat-card[_ngcontent-%COMP%]{background-color:#d81b60;color:#fff}mat-card[_ngcontent-%COMP%]{border-radius:34px;padding:12px 24px;transition:all .25s}section[_ngcontent-%COMP%]{margin-bottom:16px}"],data:{animation:[(0,h.X$)("flyIn",[(0,h.SB)("in",(0,h.oB)({transform:"translateX(0)"})),(0,h.eR)(":enter",[(0,h.oB)({transform:"translateX(-100%)"}),(0,h.jt)(250)])])]}}),t})(),U=(()=>{class t{constructor(){this.customElementComponent=k}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[u,T,c.a],imports:[[o.ez,i.ot,r.QW,s.si]]}),t})()}}]);
//# sourceMappingURL=608-es2015.889faad3f62352ff7f15.js.map