{
  "id": "api/index/function/animationFrames",
  "title": "animationFrames",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/reactivex/rxjs/edit/master/src/internal/observable/dom/animationFrames.ts?message=docs(index)%3A%20describe%20your%20change...#L6-L94\" aria-label=\"編輯建議\" title=\"編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/observable/dom/animationFrames.ts#L6-L94\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/index\", \"name\": \"rxjs/index\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/index/function/animationFrames\", \"name\": \"animationFrames\" } }\n          ]\n        }\n      </script>\n      <a href=\"/api\">API</a> / <a href=\"api/index\">rxjs/index</a>\n    </div>\n  <header class=\"api-header\">\n    <h1 id=\"animationframes\">animationFrames<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/animationFrames#animationframes\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    \n    <label class=\"api-status-label stable\">穩定</label>\n    \n    \n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  \n\n  <p class=\"short-description\"></p><p translation-result=\"on\"> Observable 的動畫幀</p><p translation-origin=\"off\">An observable of animation frames</p>\n\n<p></p>\n  \n\n  \n\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/animationFrames\" class=\"code-anchor\">animationFrames</a>(timestampProvider?: <a href=\"api/index/interface/TimestampProvider\" class=\"code-anchor\">TimestampProvider</a>)</code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">引數</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>timestampProvider</td>\n      \n      <td class=\"param-description\">\n      <p>        可選。預設值為 <code>undefined</code>。</p>\n<p translation-result=\"on\">具有提供數字時間戳的 <code>now</code> 方法的物件</p><p translation-origin=\"off\">        An object with a <code>now</code> method that provides a numeric timestamp</p>\n\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n\n\n\n\n\n\n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/animationFrames#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p translation-result=\"on\">傳送自訂閱以來經過的時間量和每個動畫幀上的時間戳。預設為提供給 requestAnimationFrame 回呼的毫秒數。不會自行結束。</p><p translation-origin=\"off\">Emits the amount of time elapsed since subscription and the timestamp on each animation frame.\nDefaults to milliseconds provided to the requestAnimationFrame's callback. Does not end on its own.</p>\n\n<p translation-result=\"on\">每個訂閱都會啟動一個單獨的動畫迴圈。由於動畫幀總是由瀏覽器在重繪的緊前面排程的，因此同步排程多個動畫幀與在單個動畫幀期間迴圈遍歷一系列事件應該沒有多大區別，其開銷也不會更大。但是，如果出於某種原因，開發人員希望確保動畫相關處理器的執行都由引擎在同一任務期間執行，則可以使用 <code><a href=\"api/index/function/share\" class=\"code-anchor\">share</a></code> 運算子。</p><p translation-origin=\"off\">Every subscription will start a separate animation loop. Since animation frames are always scheduled\nby the browser to occur directly before a repaint, scheduling more than one animation frame synchronously\nshould not be much different or have more overhead than looping over an array of events during\na single animation frame. However, if for some reason the developer would like to ensure the\nexecution of animation-related handlers are all executed during the same task by the engine,\nthe <code><a href=\"api/index/function/share\" class=\"code-anchor\">share</a></code> operator can be used.</p>\n\n<p translation-result=\"on\">這在想用 RxJS 建立動畫時很有用。</p><p translation-origin=\"off\">This is useful for setting up animations with RxJS.</p>\n\n<h2 id=\"examples\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/animationFrames#examples\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"examples\">Examples<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/animationFrames#examples\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">補間某個 div 以在螢幕上移動它</p><p translation-origin=\"off\">Tweening a div to move it on the screen</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/animationFrames\" class=\"code-anchor\">animationFrames</a>, <a href=\"api/index/function/map\" class=\"code-anchor\">map</a>, <a href=\"api/index/function/takeWhile\" class=\"code-anchor\">takeWhile</a>, <a href=\"api/index/function/endWith\" class=\"code-anchor\">endWith</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\nfunction tween(start: number, end: number, duration: number) {\n  const diff = end - start;\n  return <a href=\"api/index/function/animationFrames\" class=\"code-anchor\">animationFrames</a>().pipe(\n    // Figure out what percentage <a href=\"api/index/function/of\" class=\"code-anchor\">of</a> time has passed\n    <a href=\"api/index/function/map\" class=\"code-anchor\">map</a>(({ elapsed }) => elapsed / duration),\n    // Take the vector while less than 100%\n    <a href=\"api/index/function/takeWhile\" class=\"code-anchor\">takeWhile</a>(v => v &#x3C; 1),\n    // Finish with 100%\n    <a href=\"api/index/function/endWith\" class=\"code-anchor\">endWith</a>(1),\n    // Calculate the distance traveled between start and end\n    <a href=\"api/index/function/map\" class=\"code-anchor\">map</a>(v => v * diff + start)\n  );\n}\n\n// Setup a div for us to move around\nconst div = document.createElement('div');\ndocument.body.appendChild(div);\ndiv.style.position = 'absolute';\ndiv.style.width = '40px';\ndiv.style.height = '40px';\ndiv.style.backgroundColor = 'lime';\ndiv.style.transform = 'translate3d(10px, 0, 0)';\n\ntween(10, 200, 4000).subscribe(x => {\n  div.style.transform = `translate3d(${ x }px, 0, 0)`;\n});\n</code-example>\n<p translation-result=\"on\">提供一個自定義時間戳提供者</p><p translation-origin=\"off\">Providing a custom timestamp provider</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/animationFrames\" class=\"code-anchor\">animationFrames</a>, <a href=\"api/index/interface/TimestampProvider\" class=\"code-anchor\">TimestampProvider</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\n// A custom <a href=\"api/index/function/timestamp\" class=\"code-anchor\">timestamp</a> provider\nlet now = 0;\nconst customTSProvider: <a href=\"api/index/interface/TimestampProvider\" class=\"code-anchor\">TimestampProvider</a> = {\n  now() { return now++; }\n};\n\nconst source$ = <a href=\"api/index/function/animationFrames\" class=\"code-anchor\">animationFrames</a>(customTSProvider);\n\n// Log increasing numbers 0...1...2... on <a href=\"api/index/function/every\" class=\"code-anchor\">every</a> animation frame.\nsource$.subscribe(({ elapsed }) => console.log(elapsed));\n</code-example>\n\n</section>\n\n\n\n\n  \n\n  \n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/index\n-->\n<!-- links from this doc:\n - /api\n - api/index\n - api/index/function/animationFrames#animationframes\n - api/index/function/animationFrames#description\n - api/index/function/animationFrames#examples\n - api/index/function/endWith\n - api/index/function/every\n - api/index/function/from\n - api/index/function/map\n - api/index/function/of\n - api/index/function/share\n - api/index/function/takeWhile\n - api/index/function/timestamp\n - api/index/interface/TimestampProvider\n - https://github.com/reactivex/rxjs/edit/master/src/internal/observable/dom/animationFrames.ts?message=docs(index)%3A%20describe%20your%20change...#L6-L94\n - https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/observable/dom/animationFrames.ts#L6-L94\n-->"
}