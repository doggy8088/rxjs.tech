{
  "id": "api/operators/concatMap",
  "title": "concatMap",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/reactivex/rxjs/edit/master/src/internal/operators/concatMap.ts?message=docs(operators)%3A%20describe%20your%20change...#L29-L112\" aria-label=\"編輯建議\" title=\"編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/concatMap.ts#L29-L112\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/operators\", \"name\": \"rxjs/operators\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/operators/concatMap\", \"name\": \"concatMap\" } }\n          ]\n        }\n      </script>\n      <a href=\"/api\">API</a> / <a href=\"api/operators\">rxjs/operators</a>\n    </div>\n  <header class=\"api-header\">\n    <h1 id=\"concatmap\">concatMap<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#concatmap\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    \n    <label class=\"api-status-label stable\">穩定</label>\n    \n    <label class=\"api-status-label operator\">運算子</label>\n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  \n\n  <p class=\"short-description\"></p><p translation-result=\"on\">將每個源值投影到一個 Observable，該 Observable 會合併到輸出 Observable 中，會以串列的方式等待每個源值完成，然後再合併下一個。</p><p translation-origin=\"off\">Projects each source value to an Observable which is merged in the output\nObservable, in a serialized fashion waiting for each one to complete before\nmerging the next.</p>\n\n<p translation-result=\"on\"><span class=\"informal\">將每個值對映到一個 Observable，然後使用 <a href=\"api/operators/concatAll\"><code>concatAll</code></a> 展平所有這些內部 Observable。</span></p><p translation-origin=\"off\"><span class=\"informal\">Maps each value to an Observable, then flattens all of\nthese inner Observables using <a href=\"api/operators/concatAll\"><code>concatAll</code></a>.</span></p>\n\n<p><img src=\"/assets/images/marble-diagrams/concatMap.png\" width=\"100%\" alt=\"concatMap marble diagram\"></p>\n<p translation-result=\"on\">回傳一個 Observable，該 Observable 會針對來源 Observable 的每個項目呼叫你提供的 <code>project</code> 函式，併發送其結果，函式會回傳一個 內部 Observable。每個新的內部 Observable 都會與之前的內部 Observable 串聯起來。</p><p translation-origin=\"off\">Returns an Observable that emits items based on applying a function that you\nsupply to each item emitted by the source Observable, where that function\nreturns an (so-called \"inner\") Observable. Each new inner Observable is\nconcatenated with the previous inner Observable.</p>\n\n<p translation-result=\"on\"><strong>警告：</strong> 如果源值（內部 Observable）會無休止地抵達並且比這些內部 Observable 自身完成的速度更快，就會導致記憶體問題，因為這些內部 Observable 會積壓在一個無限的緩衝區中等待被訂閱。</p><p translation-origin=\"off\"><strong>Warning:</strong> if source values arrive endlessly and faster than their\ncorresponding inner Observables can complete, it will result in memory issues\nas inner Observables amass in an unbounded buffer waiting for their turn to\nbe subscribed to.</p>\n\n<p translation-result=\"on\">注意：<code><a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a></code> 等價於將併發（concurrency）引數設定為 <code>1</code> 的 <code><a href=\"api/index/function/mergeMap\" class=\"code-anchor\">mergeMap</a></code>。</p><p translation-origin=\"off\">Note: <code><a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a></code> is equivalent to <code><a href=\"api/index/function/mergeMap\" class=\"code-anchor\">mergeMap</a></code> with concurrency parameter set\nto <code>1</code>.</p>\n\n<h2 id=\"example\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#example\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#example\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">對於每個點選事件，每秒會依次發出 0 到 3，非併發</p><p translation-origin=\"off\">For each click event, tick every second from 0 to 3, with no concurrency</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>, <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>, <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>, <a href=\"api/index/function/take\" class=\"code-anchor\">take</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\nconst clicks = <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>(document, 'click');\nconst result = clicks.pipe(\n  <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>(ev => <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>(1000).pipe(<a href=\"api/index/function/take\" class=\"code-anchor\">take</a>(4)))\n);\nresult.subscribe(x => console.log(x));\n\n// Results in the following:\n// (results are not concurrent)\n// For <a href=\"api/index/function/every\" class=\"code-anchor\">every</a> click on the \"document\" it will emit values 0 to 3 spaced\n// on a 1000ms <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>\n// one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n</code-example>\n<p></p>\n  \n\n  \n\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>&#x3C;T, R, O extends <a href=\"api/index/type-alias/ObservableInput\" class=\"code-anchor\">ObservableInput</a>&#x3C;any>>(project: (value: T, index: number) => O, resultSelector?: (outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>, outerIndex: number, innerIndex: number) => R): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O> | R></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">引數</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>project</td>\n      \n      <td class=\"param-description\">\n      <p translation-result=\"on\">一個函式，每當以來源 Observable 發出的項目為引數進行呼叫時，會回傳一個 Observable。</p><p translation-origin=\"off\">        A function\nthat, when applied to an item emitted by the source Observable, returns an\nObservable.</p>\n\n\n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>可選。預設值為 <code>undefined</code>。</p>\n        <p>型別：<code>(outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a><o>, outerIndex: number, innerIndex: number) => R</o></code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"回傳值\">回傳值</h4>\n  <p translation-result=\"on\">一個回傳 Observable 的函式，該 Observable 會針對來源 Observable 傳送的每個項目呼叫投影函式（另一個是已棄用的可選引數 <code>resultSelector</code>），並依次從每個投影後的內部 Observable 中獲取值。</p><p translation-origin=\"off\"><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O> | R></code>: A function that returns an Observable that emits the result of\napplying the projection function (and the optional deprecated\n<code>resultSelector</code>) to each item emitted by the source Observable and taking\nvalues from each projected inner Observable sequentially.</p>\n\n\n  \n\n\n\n\n\n\n\n  \n\n\n\n<section class=\"overloads\">\n  <h2 id=\"overloads\">過載形式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#overloads\"><i class=\"material-icons\">link</i></a></h2>\n  <table>\n  \n  <tbody><tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>(project: (value: T, index: number) => O): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">引數</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>project</td>\n      \n      <td class=\"param-description\">\n              <p>型別：<code>(value: T, index: number) => O</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"回傳值-1\">回傳值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading deprecated-api-item\"> <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>(project: (value: T, index: number) => O, resultSelector: undefined): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code-example>\n\n\n\n  <div class=\"deprecated\">\n  <h4 id=\"deprecation-notes\">棄用說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#deprecation-notes\"><i class=\"material-icons\">link</i></a></h4>\n  <p translation-result=\"on\"><code>resultSelector</code> 引數將在 v8 中刪除。請改用內部 <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code>。詳細訊息： <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p><p translation-origin=\"off\">The <code>resultSelector</code> parameter will be removed in v8. Use an inner <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code> instead. Details: <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p>\n\n\n  </div>\n\n  <h4 class=\"no-anchor\" id=\"parameters\">引數</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>project</td>\n      \n      <td class=\"param-description\">\n              <p>型別：<code>(value: T, index: number) => O</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>型別：<code>undefined</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"回傳值-2\">回傳值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading deprecated-api-item\"> <a href=\"api/index/function/concatMap\" class=\"code-anchor\">concatMap</a>(project: (value: T, index: number) => O, resultSelector: (outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>, outerIndex: number, innerIndex: number) => R): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, R></code-example>\n\n\n\n  <div class=\"deprecated\">\n  <h4 id=\"deprecation-notes\">棄用說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#deprecation-notes\"><i class=\"material-icons\">link</i></a></h4>\n  <p translation-result=\"on\"><code>resultSelector</code> 引數將在 v8 中刪除。請改用內部 <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code>。詳細訊息： <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p><p translation-origin=\"off\">The <code>resultSelector</code> parameter will be removed in v8. Use an inner <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code> instead. Details: <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p>\n\n\n  </div>\n\n  <h4 class=\"no-anchor\" id=\"parameters\">引數</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>project</td>\n      \n      <td class=\"param-description\">\n              <p>型別：<code>(value: T, index: number) => O</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>型別：<code>(outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a><o>, outerIndex: number, innerIndex: number) => R</o></code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"回傳值-3\">回傳值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction&#x3C;T, R></a></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  </tbody></table>\n</section>\n\n\n  \n\n  \n<section class=\"see-also\">\n  <h2 id=\"see-also\">參見<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMap#see-also\"><i class=\"material-icons\">link</i></a></h2>\n  <ul>\n  \n    <li><a href=\"api/index/function/concat\"><code>concat</code></a>\n</li>\n    <li><a href=\"api/operators/concatAll\"><code>concatAll</code></a>\n</li>\n    <li><a href=\"api/operators/concatMapTo\"><code>concatMapTo</code></a>\n</li>\n    <li><a href=\"api/operators/exhaustMap\"><code>exhaustMap</code></a>\n</li>\n    <li><a href=\"api/operators/mergeMap\"><code>mergeMap</code></a>\n</li>\n    <li><a href=\"api/operators/switchMap\"><code>switchMap</code></a>\n</li>\n  </ul>\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/operators\n - api/operators/concatAll\n - api/operators/concatMapTo\n - api/operators/exhaustMap\n - api/operators/mergeMap\n - api/operators/switchMap\n-->\n<!-- links from this doc:\n - /api\n - api/index/function/concat\n - api/index/function/concatMap\n - api/index/function/every\n - api/index/function/from\n - api/index/function/fromEvent\n - api/index/function/interval\n - api/index/function/map\n - api/index/function/mergeMap\n - api/index/function/take\n - api/index/interface/OperatorFunction\n - api/index/type-alias/ObservableInput\n - api/index/type-alias/ObservedValueOf\n - api/operators\n - api/operators/concatAll\n - api/operators/concatMap#concatmap\n - api/operators/concatMap#deprecation-notes\n - api/operators/concatMap#example\n - api/operators/concatMap#overloads\n - api/operators/concatMap#see-also\n - api/operators/concatMapTo\n - api/operators/exhaustMap\n - api/operators/mergeMap\n - api/operators/switchMap\n - https://github.com/reactivex/rxjs/edit/master/src/internal/operators/concatMap.ts?message=docs(operators)%3A%20describe%20your%20change...#L29-L112\n - https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/concatMap.ts#L29-L112\n - https://rxjs.dev/deprecations/resultSelector\n-->"
}