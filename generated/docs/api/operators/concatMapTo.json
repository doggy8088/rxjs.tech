{
  "id": "api/operators/concatMapTo",
  "title": "concatMapTo",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/reactivex/rxjs/edit/master/src/internal/operators/concatMapTo.ts?message=docs(operators)%3A%20describe%20your%20change...#L27-L107\" aria-label=\"编辑建议\" title=\"编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/concatMapTo.ts#L27-L107\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/operators\", \"name\": \"rxjs/operators\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/operators/concatMapTo\", \"name\": \"concatMapTo\" } }\n          ]\n        }\n      </script>\n      <a href=\"/api\">API</a> / <a href=\"api/operators\">rxjs/operators</a>\n    </div>\n  <header class=\"api-header\">\n    <h1 id=\"concatmapto\">concatMapTo<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#concatmapto\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    \n    <label class=\"api-status-label stable\">稳定</label>\n    \n    <label class=\"api-status-label operator\">操作符</label>\n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  \n\n  <p class=\"short-description\"></p><p translation-result=\"on\">将每个源值投影到同一个 Observable，该 Observable 在输出 Observable 上以序列化方式多次合并。</p><p translation-origin=\"off\">Projects each source value to the same Observable which is merged multiple\ntimes in a serialized fashion on the output Observable.</p>\n\n<p translation-result=\"on\">它就像 <a href=\"api/operators/concatMap\"><code>concatMap</code></a>，但总是将每个值映射到同一个内部 Observable。</p><p translation-origin=\"off\"><span class=\"informal\">It's like <a href=\"api/operators/concatMap\"><code>concatMap</code></a>, but maps each value\nalways to the same inner Observable.</span></p>\n\n<p><img src=\"/assets/images/marble-diagrams/concatMapTo.png\" width=\"100%\" alt=\"concatMapTo marble diagram\"></p>\n<p translation-result=\"on\">将每个源值映射到给定的 Observable <code>innerObservable</code>，而不考虑源值，然后将这些结果 Observable 展平为一个 Observable，即输出 Observable。在输出 Observable 上发出的每个新的 <code>innerObservable</code> 实例都与前一个 <code>innerObservable</code> 实例连接。</p><p translation-origin=\"off\">Maps each source value to the given Observable <code>innerObservable</code> regardless\nof the source value, and then flattens those resulting Observables into one\nsingle Observable, which is the output Observable. Each new <code>innerObservable</code>\ninstance emitted on the output Observable is concatenated with the previous\n<code>innerObservable</code> instance.</p>\n\n<p translation-result=\"on\"><strong> 警告：</strong> 如果源值无休止地到达并且比它们相应的内部 Observable 完成的速度更快，这将导致内存问题，因为内部 Observable 堆积在一个无限的缓冲区中等待轮到它们被订阅。</p><p translation-origin=\"off\"><strong>Warning:</strong> if source values arrive endlessly and faster than their\ncorresponding inner Observables can complete, it will result in memory issues\nas inner Observables amass in an unbounded buffer waiting for their turn to\nbe subscribed to.</p>\n\n<p translation-result=\"on\">注意： <code><a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a></code> 等价于将并发参数设置为 <code>1</code> 的 <code><a href=\"api/index/function/mergeMapTo\" class=\"code-anchor\">mergeMapTo</a></code>。</p><p translation-origin=\"off\">Note: <code><a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a></code> is equivalent to <code><a href=\"api/index/function/mergeMapTo\" class=\"code-anchor\">mergeMapTo</a></code> with concurrency parameter\nset to <code>1</code>.</p>\n\n<h2 id=\"example\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#example\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#example\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">对于每个点击事件，每秒从 0 到 3 打勾，没有并发</p><p translation-origin=\"off\">For each click event, tick every second from 0 to 3, with no concurrency</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>, <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>, <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>, <a href=\"api/index/function/take\" class=\"code-anchor\">take</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\nconst clicks = <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>(document, 'click');\nconst result = clicks.pipe(\n  <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>(<a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>(1000).pipe(<a href=\"api/index/function/take\" class=\"code-anchor\">take</a>(4)))\n);\nresult.subscribe(x => console.log(x));\n\n// Results in the following:\n// (results are not concurrent)\n// For <a href=\"api/index/function/every\" class=\"code-anchor\">every</a> click on the \"document\" it will emit values 0 to 3 spaced\n// on a 1000ms <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>\n// one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n</code-example>\n<p></p>\n  \n\n  \n\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>&#x3C;T, R, O extends <a href=\"api/index/type-alias/ObservableInput\" class=\"code-anchor\">ObservableInput</a>&#x3C;unknown>>(innerObservable: O, resultSelector?: (outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>, outerIndex: number, innerIndex: number) => R): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O> | R></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>innerObservable</td>\n      \n      <td class=\"param-description\">\n      <p translation-result=\"on\">用于替换源 Observable 中的每个值的 Observable。</p><p translation-origin=\"off\">        An Observable to replace each value from\nthe source Observable.</p>\n\n\n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>可选。默认值为 <code>undefined</code>。</p>\n        <p>类型：<code>(outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a><o>, outerIndex: number, innerIndex: number) => R</o></code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值\">返回值</h4>\n  <p translation-result=\"on\">一个函数，该函数通过将传递的 Observable 与自身一个接一个地连接到源中发出的每个值，返回一个合并在一起的值的 Observable。</p><p translation-origin=\"off\"><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O> | R></code>: A function that returns an Observable of values merged together by\njoining the passed Observable with itself, one after the other, for each\nvalue emitted from the source.</p>\n\n\n  \n\n\n\n\n\n\n\n  \n\n\n\n<section class=\"overloads\">\n  <h2 id=\"overloads\">重载形式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#overloads\"><i class=\"material-icons\">link</i></a></h2>\n  <table>\n  \n  <tbody><tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>(<a href=\"api/index/const/observable\" class=\"code-anchor\">observable</a>: O): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;unknown, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>observable</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>O</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-1\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;unknown, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading deprecated-api-item\"> <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>(<a href=\"api/index/const/observable\" class=\"code-anchor\">observable</a>: O, resultSelector: undefined): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;unknown, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code-example>\n\n\n\n  <div class=\"deprecated\">\n  <h4 id=\"deprecation-notes\">弃用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#deprecation-notes\"><i class=\"material-icons\">link</i></a></h4>\n  <p translation-result=\"on\"><code>resultSelector</code> 参数将在 v8 中删除。请改用内部 <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code>。详细信息： <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p><p translation-origin=\"off\">The <code>resultSelector</code> parameter will be removed in v8. Use an inner <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code> instead. Details: <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p>\n\n\n  </div>\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>observable</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>O</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>undefined</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-2\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;unknown, <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading deprecated-api-item\"> <a href=\"api/index/function/concatMapTo\" class=\"code-anchor\">concatMapTo</a>(<a href=\"api/index/const/observable\" class=\"code-anchor\">observable</a>: O, resultSelector: (outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a>&#x3C;O>, outerIndex: number, innerIndex: number) => R): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;T, R></code-example>\n\n\n\n  <div class=\"deprecated\">\n  <h4 id=\"deprecation-notes\">弃用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#deprecation-notes\"><i class=\"material-icons\">link</i></a></h4>\n  <p translation-result=\"on\"><code>resultSelector</code> 参数将在 v8 中删除。请改用内部 <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code>。详细信息： <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p><p translation-origin=\"off\">The <code>resultSelector</code> parameter will be removed in v8. Use an inner <code><a href=\"api/index/function/map\" class=\"code-anchor\">map</a></code> instead. Details: <a href=\"https://rxjs.dev/deprecations/resultSelector\">https://rxjs.dev/deprecations/resultSelector</a></p>\n\n\n  </div>\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>observable</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>O</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>resultSelector</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>(outerValue: T, innerValue: <a href=\"api/index/type-alias/ObservedValueOf\" class=\"code-anchor\">ObservedValueOf</a><o>, outerIndex: number, innerIndex: number) => R</o></code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-3\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction&#x3C;T, R></a></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  </tbody></table>\n</section>\n\n\n  \n\n  \n<section class=\"see-also\">\n  <h2 id=\"see-also\">参见<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/concatMapTo#see-also\"><i class=\"material-icons\">link</i></a></h2>\n  <ul>\n  \n    <li><a href=\"api/index/function/concat\"><code>concat</code></a>\n</li>\n    <li><a href=\"api/operators/concatAll\"><code>concatAll</code></a>\n</li>\n    <li><a href=\"api/operators/concatMap\"><code>concatMap</code></a>\n</li>\n    <li><a href=\"api/operators/mergeMapTo\"><code>mergeMapTo</code></a>\n</li>\n    <li><a href=\"api/operators/switchMapTo\"><code>switchMapTo</code></a>\n</li>\n  </ul>\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/operators\n - api/operators/concatAll\n - api/operators/concatMap\n - api/operators/mergeMapTo\n - api/operators/switchMapTo\n-->\n<!-- links from this doc:\n - /api\n - api/index/const/observable\n - api/index/function/concat\n - api/index/function/concatMapTo\n - api/index/function/every\n - api/index/function/from\n - api/index/function/fromEvent\n - api/index/function/interval\n - api/index/function/map\n - api/index/function/mergeMapTo\n - api/index/function/take\n - api/index/interface/OperatorFunction\n - api/index/type-alias/ObservableInput\n - api/index/type-alias/ObservedValueOf\n - api/operators\n - api/operators/concatAll\n - api/operators/concatMap\n - api/operators/concatMapTo#concatmapto\n - api/operators/concatMapTo#deprecation-notes\n - api/operators/concatMapTo#example\n - api/operators/concatMapTo#overloads\n - api/operators/concatMapTo#see-also\n - api/operators/mergeMapTo\n - api/operators/switchMapTo\n - https://github.com/reactivex/rxjs/edit/master/src/internal/operators/concatMapTo.ts?message=docs(operators)%3A%20describe%20your%20change...#L27-L107\n - https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/concatMapTo.ts#L27-L107\n - https://rxjs.dev/deprecations/resultSelector\n-->"
}