"use strict";(self.webpackChunkrxjs_dev=self.webpackChunkrxjs_dev||[]).push([[320],{44320:function(e,t,i){i.r(t),i.d(t,{TocModule:function(){return E}});var n=i(54364),o=i(18226),s=i(20749),c=i(57850),l=i(1890),d=i(44094),a=i(13256),r=i(57993),p=i(2316),u=i(29026),f=i(56308);const m=["tocItem"];function g(e,t){1&e&&(p.TgZ(0,"div",7),p._uU(1," \u76ee\u5f55 "),p.qZA())}function h(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"button",8),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).toggle(!1)}),p._uU(1," \u76ee\u5f55 "),p._UZ(2,"mat-icon",9),p.qZA()}if(2&e){const e=p.oxw(2);p.uIk("aria-pressed",!e.isCollapsed),p.xp6(2),p.ekj("collapsed",e.isCollapsed)}}function b(e,t){if(1&e&&(p.TgZ(0,"li",11,12),p._UZ(2,"a",13),p.qZA()),2&e){const e=p.oxw(),t=e.$implicit,i=e.index,n=p.oxw(2);p.Tol(t.level),p.ekj("secondary","EmbeddedExpandable"===n.type&&i>=n.primaryMax)("active",i===n.activeIndex),p.s9C("title",t.title),p.xp6(2),p.Q6J("href",t.href,p.LSH)("innerHTML",t.content,p.oJD)}}function x(e,t){if(1&e&&(p.ynx(0),p.YNc(1,b,3,10,"li",10),p.BQk()),2&e){const e=t.$implicit,i=p.oxw(2);p.xp6(1),p.Q6J("ngIf","Floating"===i.type||"h1"!==e.level)}}function y(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"button",14),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).toggle()}),p.qZA()}if(2&e){const e=p.oxw(2);p.ekj("collapsed",e.isCollapsed),p.uIk("aria-pressed",!e.isCollapsed)}}function v(e,t){if(1&e&&(p.TgZ(0,"div",1),p.YNc(1,g,2,0,"div",2),p.YNc(2,h,3,3,"button",3),p.TgZ(3,"ul",4),p.YNc(4,x,2,1,"ng-container",5),p.qZA(),p.YNc(5,y,1,3,"button",6),p.qZA()),2&e){const e=p.oxw();p.ekj("collapsed",e.isCollapsed),p.xp6(1),p.Q6J("ngIf","EmbeddedSimple"===e.type),p.xp6(1),p.Q6J("ngIf","EmbeddedExpandable"===e.type),p.xp6(1),p.ekj("embedded","Floating"!==e.type),p.xp6(1),p.Q6J("ngForOf",e.tocList),p.xp6(1),p.Q6J("ngIf","EmbeddedExpandable"===e.type)}}let I=(()=>{class e{constructor(e,t,i){this.scrollService=e,this.tocService=i,this.activeIndex=null,this.type="None",this.isCollapsed=!0,this.isEmbedded=!1,this.onDestroy=new s.x,this.primaryMax=4,this.isEmbedded=-1!==t.nativeElement.className.indexOf("embedded")}ngOnInit(){this.tocService.tocList.pipe((0,d.R)(this.onDestroy)).subscribe(e=>{this.tocList=e;const t=function(e,t){return e.reduce((e,t)=>"h1"!==t.level?e+1:e,0)}(this.tocList);this.type=t>0?this.isEmbedded?t>this.primaryMax?"EmbeddedExpandable":"EmbeddedSimple":"Floating":"None"})}ngAfterViewInit(){this.isEmbedded||(0,c.a)(this.tocService.activeItemIndex.pipe(function(e,t){return void 0===t&&(t=0),(0,a.e)(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}(l.E)),this.items.changes.pipe((0,r.O)(this.items))).pipe((0,d.R)(this.onDestroy)).subscribe(([e,t])=>{if(this.activeIndex=e,null===e||e>=t.length)return;const i=t.toArray()[e].nativeElement,n=i.offsetParent,o=i.getBoundingClientRect(),s=n.getBoundingClientRect();o.top>=s.top&&o.bottom<=s.bottom||(n.scrollTop+=o.top-s.top-n.clientHeight/2)})}ngOnDestroy(){this.onDestroy.next(null)}toggle(e=!0){this.isCollapsed=!this.isCollapsed,e&&this.isCollapsed&&this.toTop()}toTop(){this.scrollService.scrollToTop()}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(u.a),p.Y36(p.SBq),p.Y36(f.I))},e.\u0275cmp=p.Xpm({type:e,selectors:[["aio-toc"]],viewQuery:function(e,t){if(1&e&&p.Gf(m,5),2&e){let e;p.iGM(e=p.CRH())&&(t.items=e)}},decls:1,vars:1,consts:[["class","toc-inner no-print",3,"collapsed",4,"ngIf"],[1,"toc-inner","no-print"],["class","toc-heading embedded",4,"ngIf"],["type","button","class","toc-heading embedded secondary","title","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55","aria-label","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55",3,"click",4,"ngIf"],[1,"toc-list"],[4,"ngFor","ngForOf"],["type","button","class","toc-more-items embedded material-icons","title","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55","aria-label","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55",3,"collapsed","click",4,"ngIf"],[1,"toc-heading","embedded"],["type","button","title","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55","aria-label","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55",1,"toc-heading","embedded","secondary",3,"click"],["svgIcon","keyboard_arrow_right",1,"rotating-icon"],[3,"title","class","secondary","active",4,"ngIf"],[3,"title"],["tocItem",""],[3,"href","innerHTML"],["type","button","title","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55","aria-label","\u5c55\u5f00/\u6298\u53e0\u76ee\u5f55",1,"toc-more-items","embedded","material-icons",3,"click"]],template:function(e,t){1&e&&p.YNc(0,v,6,8,"div",0),2&e&&p.Q6J("ngIf","None"!==t.type)},directives:[n.O5,n.sg,o.Hw],encapsulation:2}),e})(),E=(()=>{class e{constructor(){this.customElementComponent=I}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,o.Ps]]}),e})()}}]);
//# sourceMappingURL=320-es2015.b695424b1ff1b17720e1.js.map